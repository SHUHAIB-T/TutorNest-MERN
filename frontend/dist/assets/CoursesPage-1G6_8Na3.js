import{aH as h,r as u,a as m,g as j,j as e,U as f,D as y,b as v,S as w,C as r,ar as C,F as N}from"./index-dYQkEr6H.js";import{C as b}from"./CoruseCardUser-vvpIFHzk.js";function S({search:t,setSearch:c}){const[x]=h(),n=x.get("search"),[i,l]=u.useState(n||""),d=m();u.useEffect(()=>{d(j(t))},[t,d]);const o=s=>{const{name:g,value:a}=s.currentTarget;c({...t,[g]:a})};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-wrap space-y-2 md:justify-between items-center justify-center flex-shrink px-3 py-3 bg-my-bg-dark h-fit w-full ",children:[e.jsxs("div",{className:"h-fit w-[500px] flex gap-x-2",children:[e.jsxs("select",{name:"category",onChange:o,className:"md:w-1/3 w-28 py-1 cursor-pointer text-sm bg-gray-900 rounded-full pl-4 text-gray-200",children:[e.jsx("option",{value:"",children:"All Categories"}),f.map(s=>e.jsx("option",{value:s,children:s}))]}),e.jsxs("select",{name:"language",onChange:o,className:"md:w-1/3 w-28 py-1 cursor-pointer text-sm bg-gray-900 rounded-full pl-4 text-gray-200",children:[e.jsx("option",{value:"",children:"All Languages"}),y.map(s=>e.jsx("option",{value:s,children:s}))]}),e.jsxs("select",{name:"sort",onChange:o,className:"md:w-1/3 w-28 py-1 cursor-pointer text-sm bg-gray-900 rounded-full pl-4 text-gray-200",children:[e.jsx("option",{value:"",children:"Sort"}),e.jsx("option",{value:"low-high",children:"low-high"}),e.jsx("option",{value:"high-low",children:"high-low"}),e.jsx("option",{value:"new-first",children:"new first"}),e.jsx("option",{value:"popular",children:"most popular"})]})]}),e.jsx("div",{className:"",children:e.jsx("form",{onSubmit:s=>{s.preventDefault(),c({...t,search:i})},children:e.jsxs("div",{className:"relative text-gray-600 focus-within:text-gray-400",children:[e.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-2",children:e.jsx("button",{type:"submit",className:"p-1 focus:outline-none focus:shadow-outline",children:e.jsx("svg",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24",className:"w-6 h-6",children:e.jsx("path",{d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})}),e.jsx("input",{type:"search",name:"q",value:i,onChange:s=>l(s.target.value),className:"py-1 text-sm text-white bg-gray-900 rounded-full pl-10 focus:border-0 focus:outline-none  focus:text-gray-200",placeholder:"Search..."})]})})})]})})}function F(){const[t]=h(),c=t.get("search"),{isLoading:x,courses:n,count:i}=v(a=>a.course),[l,d]=u.useState(1),[o,s]=u.useState({category:"",language:"",page:"",search:c||"",sort:""}),g=a=>d(a);return u.useEffect(()=>{l>=1&&s({...o,page:l.toString()})},[l]),e.jsxs(e.Fragment,{children:[e.jsx(w,{}),e.jsxs("div",{className:"flex flex-wrap bg-secondary flex-col w-full min-h-screen text-gray-200",children:[e.jsx(S,{search:o,setSearch:s}),e.jsxs("div",{className:"flex md:p-10 gap-6 p-3 items-center justify-center w-full flex-wrap",children:[x&&e.jsxs(e.Fragment,{children:[e.jsx(r,{}),e.jsx(r,{}),e.jsx(r,{}),e.jsx(r,{}),e.jsx(r,{}),e.jsx(r,{}),e.jsx(r,{}),e.jsx(r,{})]}),n.length>0&&n.map((a,p)=>e.jsx(e.Fragment,{children:e.jsx(b,{averageRating:a.averageRating,course:a.course,isEnrolled:a.isEnrolled,_id:a._id},p)})),n.length===0&&!x&&e.jsx("div",{className:"",children:e.jsx("h1",{children:"No courses"})}),i>0&&e.jsx("div",{className:"flex mypage overflow-x-auto w-[80%] sm:justify-end",children:e.jsx(C,{currentPage:l,totalPages:i,onPageChange:g})})]})]}),e.jsx(N,{})]})}export{F as default};
