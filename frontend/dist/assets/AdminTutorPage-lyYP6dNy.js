import{r as n,o as f,B as u,j as e,z as t,L as p,K as j,ar as N}from"./index-jVhWPiF6.js";import{N as b}from"./NavBar-VvQwKKmC.js";import{d as k}from"./ChevronLeft-b0aZY8_Y.js";import{d as v}from"./Search-MkWc-H1k.js";import{d as S}from"./utilityFuctions-ouM6L3FC.js";import"./Cancel-3UUaCYp5.js";import"./Paper-nn5JuHjW.js";function B({tutorData:x,blockId:o,setBlockId:c,unblockId:i,setunBlockId:l}){const h=s=>{j.fire({title:"Are you sure?",text:"are you sure want to block",icon:"question",showCancelButton:!0,confirmButtonText:"Yes Block!"}).then(r=>{r.isConfirmed&&c(s)})},m=s=>{j.fire({title:"Are you sure?",text:"are you sure want to unblock",icon:"question",showCancelButton:!0,confirmButtonText:"Yes Unlock!"}).then(r=>{r.isConfirmed&&l(s)})};return n.useEffect(()=>{(async function(){if(o)try{(await f.patch(`/admin/user-block/${o}`,{},{withCredentials:!0})).data.success&&(c(""),u.success("User Blocked!"))}catch{u.error("Error")}})()},[o,c]),n.useEffect(()=>{(async function(){if(i)try{(await f.patch(`/admin/user-unblock/${i}`,{},{withCredentials:!0})).data.success&&(l(""),u.success("User Unblocked!"))}catch{u.error("Error")}})()},[i,l]),e.jsx("div",{className:"overflow-x-auto mytable w-full md:w-[80%] mt-4",children:e.jsxs(t,{children:[e.jsxs(t.Head,{children:[e.jsx(t.HeadCell,{children:"SL No"}),e.jsx(t.HeadCell,{children:"Name"}),e.jsx(t.HeadCell,{children:"Qualification"}),e.jsx(t.HeadCell,{children:"subjects"}),e.jsx(t.HeadCell,{children:"Documents"}),e.jsx(t.HeadCell,{children:"Status"}),e.jsx(t.HeadCell,{children:e.jsx("span",{className:"sr-only",children:"Block/unblock"})})]}),e.jsx(t.Body,{className:"divide-y",children:x.length>0&&x.map((s,r)=>e.jsx(e.Fragment,{children:e.jsxs(t.Row,{className:"bg-white dark:border-gray-700 dark:bg-gray-800",children:[e.jsx(t.Cell,{className:"whitespace-nowrap font-medium text-gray-900 dark:text-white",children:r+1}),e.jsx(t.Cell,{children:s.name}),e.jsx(t.Cell,{children:s.qualification.map(d=>e.jsxs("span",{children:[d,", "]}))}),e.jsx(t.Cell,{children:s.languages.map(d=>e.jsxs("span",{children:[d,", "]}))}),e.jsx(t.Cell,{children:e.jsx(p,{to:`/admin/tutors/${s.userID}`,children:e.jsx("span",{className:"font-medium cursor-pointer text-cyan-600 hover:underline dark:text-cyan-500",children:"View"})})}),e.jsx(t.Cell,{children:s.user.status?e.jsx("span",{className:"text-green-500 font-bold",children:"active"}):e.jsx("span",{className:"text-red-500 font-bold",children:"Blocked"})}),e.jsx(t.Cell,{children:s.user.status?e.jsx("span",{onClick:()=>h(s.userID),className:"font-medium  cursor-pointer rounded-md bg-red-500 px-5 py-2 text-white",children:"BLOCK"}):e.jsx("span",{onClick:()=>m(s.userID),className:"font-medium  cursor-pointer rounded-md bg-green-500 px-3 py-2 text-white",children:"UNBLOCK"})})]})}))})]})})}function $(){const[x,o]=n.useState([]),[c,i]=n.useState(""),[l,h]=n.useState(""),[m,s]=n.useState(""),[r,d]=n.useState(1),[w,g]=n.useState(0),C=a=>d(a),y=S(a=>{s(a)},500);return n.useEffect(()=>{(async function(){try{const a=await f.get(`/admin/tutors?search=${m}&&page=${r}`,{withCredentials:!0});o(a.data.teachers),g(a.data.count)}catch{u.error("Error")}})()},[c,l,m,r]),e.jsxs(e.Fragment,{children:[e.jsx(b,{role:"ADMIN"}),e.jsxs("div",{className:"flex flex-col items-center md:p-10 p-4 w-full h-[100vh] bg-secondary",children:[e.jsx("h1",{className:"font-bold text-white text-4xl",children:"MANAGE TUTORS"}),e.jsxs("div",{className:"flex flex-wrap items-center justify-between mt-10 w-full md:w-[80%]",children:[e.jsxs(p,{to:"/",className:"font-bold text-white",children:[e.jsx(k,{className:"mb-1"})," Back"]}),e.jsxs("div",{className:"flex justify-center items-center",children:[e.jsx("input",{onChange:a=>y(a.target.value),className:"h-8 rounded-lg ",type:"text"}),e.jsx(v,{fontSize:"large",className:"text-white"})]})]}),e.jsx(B,{setBlockId:i,blockId:c,tutorData:x,unblockId:l,setunBlockId:h}),e.jsx("div",{className:"flex mypage overflow-x-auto w-[80%] sm:justify-end",children:e.jsx(N,{currentPage:r,totalPages:w,onPageChange:C})})]})]})}export{$ as default};
