import{j as e,a as w,b as q,r as o,t as Q,f as S,A as k,D as A,v as h,x as D,L as T}from"./index-dYQkEr6H.js";import{N as B}from"./NavBar-2QL-BYwJ.js";import{P as O}from"./ProfileCard-1SnMzSqj.js";import{d as R}from"./ChevronLeft-ygGI7bzT.js";import"./Cancel-lHxBFVup.js";import"./Paper-TCysvsb2.js";function G({val:r,id:l,setQualifications:u,setSubmit:m,qualifications:g}){const x=p=>{u(g.filter(n=>n.id!=p)),m(!0)};return e.jsxs("div",{className:"bg-[#4b277b] rounded-full flex justify-center items-center text-gray-300 gap-2 py-1 px-4",children:[r," ",e.jsx("span",{className:"font-bold text-white cursor-pointer",onClick:()=>x(l),children:"x"})]})}function H({val:r,id:l,setLanguages:u,setSubmit:m,languages:g}){const x=p=>{u(g.filter(n=>n.id!=p)),m(!0)};return e.jsxs("div",{className:"bg-[#4b277b] rounded-full flex justify-center items-center text-gray-300 gap-2 py-1 px-4",children:[r," ",e.jsx("span",{className:"font-bold text-white cursor-pointer",onClick:()=>x(l),children:"x"})]})}function I(){const r=w(),{profile:l,isLoading:u}=q(a=>a.userProfile),m=l!=null&&l.qualification?l==null?void 0:l.qualification:[],g=[];for(let a=0;a<m.length;a++)g.push({id:a,value:m[a]});const x=l!=null&&l.languages?l==null?void 0:l.languages:[],p=[];for(let a=0;a<x.length;a++)p.push({id:a,value:x[a]});const[n,j]=o.useState(g),[c,v]=o.useState(p),[C,d]=o.useState(!1),[b,N]=o.useState(!1),E={name:l?l.name:"",phone:l?JSON.stringify(l.phone):"",bio:l?l.bio:"",qualification:l?l.qualification:[],languages:l?l.languages:[],pricing:l?l.pricing:""},[s,y]=o.useState(E),[t,L]=o.useState({name:"",phone:"",bio:"",qualification:"",languages:"",pricing:""}),f=a=>{const{name:i,value:P}=a.target;y({...s,[i]:P}),d(!0)},F=a=>{a.preventDefault(),(n.length>=0||c.length>=0)&&y({...s,languages:c.map(i=>i.value),qualification:n.map(i=>i.value)}),L({...t,name:h("name",s.name),phone:h("phone",s.phone),bio:h("bio",s.bio),languages:h("languages",s.languages),qualification:h("qualification",s.qualification),pricing:h("pricing",s.pricing)}),N(!0)};return o.useEffect(()=>{b&&!t.name&&!t.phone&&!t.languages&&!t.qualification&&!t.pricing&&!t.bio&&s.languages&&s.name&&s.bio&&s.phone&&s.qualification&&(r(Q(s)),N(!1))},[s,b,t,r]),u?e.jsx(S,{}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col  rounded-lg ring-1 p-3 pb-10 ring-[#4d2389] items-center bg-[#302343]",children:[e.jsx("h1",{className:"text-white text-4xl text-center font-bold my-4",children:"Complete your profile"}),e.jsx("div",{className:"w-full bg-[#552794] rounded-full h-[0.2px] mb-2"}),e.jsxs("div",{className:"grid grid-cols-3 w-full px-3 gap-3",children:[e.jsxs("div",{className:"md:col-span-1 text-white space-y-1 w-full col-span-3",children:[e.jsx("label",{htmlFor:"text",children:"Name"}),t.name&&e.jsx("small",{className:"text-red-600 ml-2",children:t.name}),e.jsx("input",{className:"bg-secondary w-full rounded-md text-white",type:"text",name:"name",placeholder:"Enter your Name ",value:s.name,onChange:f})]}),e.jsxs("div",{className:"md:col-span-1 text-white space-y-1 w-full col-span-3",children:[e.jsx("label",{htmlFor:"text",children:"Phone"}),t.phone&&e.jsx("small",{className:"text-red-600 ml-2",children:t.phone}),e.jsx("input",{className:"bg-secondary w-full rounded-md text-white",placeholder:"Enter your phone ",type:"number",name:"phone",value:s.phone,onChange:f})]}),e.jsxs("div",{className:"md:col-span-1 text-white space-y-1 w-full col-span-3",children:[e.jsx("label",{htmlFor:"date",children:"Bio"}),t.bio&&e.jsx("small",{className:"text-red-600 ml-2",children:t.bio}),e.jsx("input",{className:"bg-secondary w-full rounded-md text-white",type:"text",name:"bio",value:s.bio,onChange:f,placeholder:"eg: Passionate about teaching"})]}),e.jsxs("div",{className:"md:col-span-1 text-white space-y-1 w-full col-span-3",children:[e.jsx("label",{htmlFor:"date",children:"Pricing"}),t.pricing&&e.jsx("small",{className:"text-red-600 ml-2",children:t.pricing}),e.jsx("input",{className:"bg-secondary w-full rounded-md text-white",type:"number",name:"pricing",placeholder:"Enter your pricing for 1 hour",value:s.pricing,onChange:f})]}),e.jsxs("div",{className:"md:col-span-1 text-white space-y-1 w-full col-span-3",children:[e.jsx("label",{htmlFor:"text",children:"Qualifications"}),t.qualification&&e.jsx("small",{className:"text-red-600 ml-2",children:t.qualification}),e.jsx("div",{className:"flex flex-wrap gap-3 p-1",children:n.map(a=>e.jsx(G,{qualifications:n,id:a.id,setQualifications:j,val:a.value,setSubmit:d},a.id))}),e.jsx("div",{className:"relative",children:e.jsxs("select",{onChange:a=>{!n.find(i=>i.value===a.target.value)&&a.target.value?(j([...n,{id:n.length+1,value:a.target.value}]),d(!0)):(j(n.filter(i=>i.value!==a.target.value)),d(!0))},name:"qualification",className:"bg-secondary  w-full rounded-md text-gray-200",children:[e.jsx("option",{value:"",children:"-select qualification-"}),k.map(a=>e.jsx("option",{value:a,children:a}))]})})]}),e.jsxs("div",{className:"md:col-span-1 relative text-white space-y-1 w-full col-span-3",children:[e.jsx("label",{htmlFor:"text",children:"Languages"}),t.languages&&e.jsx("small",{className:"text-red-600 ml-2",children:t.languages}),e.jsx("div",{className:"flex flex-wrap gap-3 p-1",children:c.map(a=>e.jsx(H,{languages:c,id:a.id,setLanguages:v,val:a.value,setSubmit:d},a.id))}),e.jsx("div",{className:"relative",children:e.jsxs("select",{onChange:a=>{!c.find(i=>i.value===a.target.value)&&a.target.value?(v([...c,{id:c.length+1,value:a.target.value}]),d(!0)):(v(c.filter(i=>i.value!==a.target.value)),d(!0))},name:"language",className:"bg-secondary  w-full rounded-md text-gray-200",children:[e.jsx("option",{value:"",children:"-select language-"}),A.map(a=>e.jsx("option",{value:a,children:a}))]})})]})]}),C&&e.jsx("button",{onClick:F,className:"bg-primary mt-6 p-2 w-[98%] rounded-md text-gray-200 font-bold",children:"SAVE CHANGES"})]})})}function M(){const r=w(),{isLoading:l}=q(u=>u.userProfile);return o.useEffect(()=>{r(D())},[r]),l?e.jsx(S,{}):e.jsxs(e.Fragment,{children:[e.jsx(B,{role:"TUTOR"}),e.jsxs("div",{className:"flex md:py-5 md:px-44 flex-col p-4 gap-10 bg-secondary",children:[e.jsx("div",{className:"flex items-center",children:e.jsxs(T,{to:"/",className:"font-bold text-white",children:[e.jsx(R,{className:"mb-1"})," Back"]})}),e.jsx(O,{}),e.jsx(I,{})]})]})}export{M as default};
