import{a as S,u as T,r as o,b as j,e as E,p as b,q as k,j as i,f as w}from"./index-jVhWPiF6.js";function G({method:l,role:g}){const e=S(),a=T(),[n,r]=o.useState(!1),{isLoading:f,isError:p,user:s,isSuccess:u,errorMessage:d}=j(c=>c.auth),[t,m]=o.useState({accessToken:"",role:""});o.useEffect(()=>{u&&((s==null?void 0:s.role)==="STUDENT"?a("/student"):(s==null?void 0:s.role)==="TUTOR"&&a("/tutor"),e(E()))},[d,p,u,a,e,s]);const h=b({onSuccess:async c=>{const x=c.access_token;m({accessToken:x,role:g}),r(!0)}});return o.useEffect(()=>{n&&t.accessToken&&t.role&&e(k(t)),r(!1)},[t,e,n]),f?i.jsx(w,{}):i.jsxs("button",{onClick:()=>h(),className:"flex gap-2 w-[70%] items-center shadow font-medium text-slate-700 border py-1 justify-center rounded-md",children:[i.jsx("img",{width:"25",height:"25",src:"https://img.icons8.com/color/48/google-logo.png"}),l," with Google"]})}export{G};
