import{b as L,r as a,V as Q,E as O,G as T,H,I as _,o as B,B as q,j as e,M as w,h as M,v as i,z as v,W as U,K as V,X as P,L as z,F as I}from"./index-jVhWPiF6.js";import{N as G}from"./NavBar-VvQwKKmC.js";import{d as K}from"./ChevronLeft-b0aZY8_Y.js";import{d as W,a as X}from"./uploadFirebase-Guju9kz3.js";import{d as Y}from"./ModeEdit-leNQR4AI.js";import"./Cancel-3UUaCYp5.js";import"./Paper-nn5JuHjW.js";function J({openModal:l,setOpenModal:p,courseId:d,setUpdated:j}){const{user:n}=L(c=>c.auth),b={title:"",video:"",description:"",courseId:d},[s,m]=a.useState(b),[t,r]=a.useState(b),[o,y]=a.useState(null),[u,x]=a.useState(!1),[h,g]=a.useState(!1),D=c=>{const{name:N,value:C}=c.target;m({...s,[N]:C}),x(!1)},A=c=>{c.preventDefault(),r({...t,description:i("required",s.description),title:i("required",s.title),video:i("required",o)}),x(!0)};return a.useEffect(()=>{(async function(){if(!t.video&&!t.description&&!t.duration&&!t.title&&o&&s.description&&s.title&&u)try{g(!0);const c=await Q(o),N=new Date().getTime()+o.name,C=O(T,"lessonVideo/"+N);if(await H(C,o)){const E=await _(C);await B.post("/lesson",{video:E,title:s.title,description:s.description,duration:c,courseId:d},{withCredentials:!0}),p(!1),q.success("Lesson added!"),m(b),j(S=>!S),g(!1)}}catch{q.error("Error"),g(!1)}})()},[t,o,s,u,n,p]),e.jsx(e.Fragment,{children:e.jsxs(w,{show:l,onClose:()=>p(!1),children:[e.jsx(w.Header,{className:"ring-1 ring-[#4d2389] bg-[#110d17] rounded-t-md",children:e.jsx("h1",{className:"text-white font-bold",children:"Add Lessons"})}),e.jsx(w.Body,{className:"bg-[#110d17] ring-1 ring-[#4d2389] rounded-b-md",children:e.jsxs("div",{className:"grid grid-cols-2 gap-2 w-full",children:[e.jsxs("div",{className:"flex flex-col  md:col-span-2 col-span-2",children:[e.jsx("label",{htmlFor:"title",className:"py-2 text-white",children:"Title"}),t.title&&e.jsx("small",{className:"text-red-600",children:t.title}),e.jsx("input",{onChange:D,className:"bg-[#251c32] text-white border-0 rounded-md",type:"text",name:"title",value:s.title,placeholder:"Enter the title of the course"})]}),e.jsxs("div",{className:"flex flex-col col-span-2",children:[e.jsx("label",{htmlFor:"title",className:"py-2 text-white",children:"video"}),t.video&&e.jsx("small",{className:"text-red-600",children:t.video}),e.jsx("input",{className:"bg-[#251c32] text-white border-0 rounded-md ",type:"file",accept:"video/*",onChange:c=>{c.target.files&&y(c.target.files[0])}})]}),e.jsxs("div",{className:"col-span-2 w-full text-white",children:[e.jsx("label",{htmlFor:"description",children:"Description"}),t.description&&e.jsx("small",{className:"text-red-600",children:t.description}),e.jsx("textarea",{className:"w-full mt-4 rounded-md bg-[#251c32] border-0 py-2",rows:4,name:"description",value:s.description,onChange:D,id:""})]}),h?e.jsx(e.Fragment,{children:e.jsx("div",{className:"font-bold flex items-center justify-center text-white bg-primary rounded-lg",children:e.jsx(M,{})})}):e.jsx("button",{onClick:A,className:"font-bold text-white bg-primary rounded-lg",children:"SUBMIT"}),e.jsx("button",{onClick:()=>m(b),className:"font-bold text-white px-4 py-2 bg-[#3f3b3b] rounded-lg",children:"CLEAR"})]})})]})})}function Z({opentModal:l,setVideo:p,setOpenModal:d,url:j}){return e.jsx(e.Fragment,{children:e.jsxs(w,{show:l,size:"md",onClose:()=>{d(!1),p("")},popup:!0,children:[e.jsx(w.Header,{}),e.jsx(w.Body,{children:e.jsx("video",{controls:!0,controlsList:"nodownload",autoPlay:!0,children:e.jsx("source",{type:"",src:j})})})]})})}function ee({lessons:l,setUpdated:p,setEditLessonId:d}){const[j,n]=a.useState(""),[b,s]=a.useState(!1),[m,t]=a.useState("");a.useEffect(()=>{j&&s(!0)},[j]);const r=o=>{V.fire({title:"Are you sure?",icon:"warning",text:"are you sure want to delete this lesson",confirmButtonText:"yes delete",showCancelButton:!0}).then(y=>{y.isConfirmed&&t(o)})};return a.useEffect(()=>{(async function(){if(m)try{await B.patch(`/lesson/${m}`,{},{withCredentials:!0}),t(""),p(o=>!o),q.success("lesson deleted")}catch{q.error("Error")}})()},[m,p]),e.jsxs("div",{className:"overflow-x-auto mytable w-[80%] mt-10",children:[e.jsx(Z,{opentModal:b,setOpenModal:s,url:j,setVideo:n}),e.jsxs(v,{children:[e.jsxs(v.Head,{children:[e.jsx(v.HeadCell,{children:"SL No"}),e.jsx(v.HeadCell,{children:"title"}),e.jsx(v.HeadCell,{children:"duration"}),e.jsx(v.HeadCell,{children:"description"}),e.jsx(v.HeadCell,{children:"video"}),e.jsx(v.HeadCell,{children:e.jsx("span",{className:"sr-only",children:"Eidi/delete"})})]}),e.jsx(v.Body,{className:"divide-y",children:l.length>0&&l.map((o,y)=>e.jsx(e.Fragment,{children:e.jsxs(v.Row,{className:"bg-white dark:border-gray-700 dark:bg-gray-800",children:[e.jsx(v.Cell,{className:"whitespace-nowrap font-medium text-gray-900 dark:text-white",children:y+1}),e.jsx(v.Cell,{children:o.title}),e.jsx(v.Cell,{children:U(o.duration)}),e.jsx(v.Cell,{children:o.description}),e.jsx(v.Cell,{children:e.jsx("span",{onClick:()=>{o.video&&n(o.video)},className:"font-medium cursor-pointer text-cyan-600 hover:underline dark:text-cyan-500",children:"View"})}),e.jsxs(v.Cell,{children:[e.jsxs("span",{onClick:()=>r(o._id),children:[e.jsx(W,{className:"text-primary hover:text-red-600 cursor-pointer"})," "]}),e.jsx("span",{onClick:()=>d(o._id),children:e.jsx(Y,{className:"text-primary cursor-pointer hover:text-blue-600"})})]})]})}))})]})]})}function se({initialState:l,openModal:p,setOpenModal:d,setUpdated:j,setEditLessonId:n}){const{user:b}=L(c=>c.auth),[s,m]=a.useState(l),[t,r]=a.useState(l),[o,y]=a.useState(null),[u,x]=a.useState(!1),[h,g]=a.useState(!1);a.useEffect(()=>{m(l)},[l]);const D=c=>{const{name:N,value:C}=c.target;m({...s,[N]:C}),x(!1)},A=c=>{c.preventDefault(),r({...t,description:i("required",s.description),title:i("required",s.title),video:i("required",l.video)}),x(!0)};return a.useEffect(()=>{(async function(){if(!t.video&&!t.description&&!t.duration&&!t.title&&s.description&&s.duration&&s.title&&u)try{if(g(!0),o&&l.video){await X(l.video);const c=await Q(o),N=new Date().getTime()+o.name,C=O(T,"lessonVideo/"+N);if(await H(C,o)){const E=await _(C);await B.put(`/lesson/${l._id}`,{video:E,title:s.title,description:s.description,duration:c},{withCredentials:!0}),d(!1),q.success("Lesson edited!"),m(l),j(S=>!S),x(!1),n(""),g(!1)}}else await B.put(`/lesson/${l._id}`,{title:s.title,description:s.description,duration:s.duration},{withCredentials:!0}),d(!1),q.success("Lesson edited!"),x(!1),m(l),j(c=>!c),n(""),g(!1)}catch{q.error("Error"),g(!1)}})()},[t,o,s,u,b,d]),e.jsx(e.Fragment,{children:e.jsxs(w,{show:p,onClose:()=>{d(!1),n("")},children:[e.jsx(w.Header,{className:"ring-1 ring-[#4d2389] bg-[#110d17] rounded-t-md",children:e.jsx("h1",{className:"text-white font-bold",children:"Edit Lessons"})}),e.jsx(w.Body,{className:"bg-[#110d17] ring-1 ring-[#4d2389] rounded-b-md",children:e.jsxs("div",{className:"grid grid-cols-2 gap-2 w-full",children:[e.jsxs("div",{className:"flex flex-col  md:col-span-2 col-span-2",children:[e.jsx("label",{htmlFor:"title",className:"py-2 text-white",children:"Title"}),t.title&&e.jsx("small",{className:"text-red-600",children:t.title}),e.jsx("input",{onChange:D,className:"bg-[#251c32] text-white border-0 rounded-md",type:"text",name:"title",value:s.title,placeholder:"Enter the title of the course"})]}),e.jsxs("div",{className:"flex flex-col col-span-2",children:[e.jsx("label",{htmlFor:"title",className:"py-2 text-white",children:"video"}),t.video&&e.jsx("small",{className:"text-red-600",children:t.video}),e.jsx("input",{className:"bg-[#251c32] text-white border-0 rounded-md ",type:"file",accept:"video/*",onChange:c=>{c.target.files&&y(c.target.files[0])}})]}),e.jsxs("div",{className:"col-span-2 w-full text-white",children:[e.jsx("label",{htmlFor:"description",children:"Description"}),t.description&&e.jsx("small",{className:"text-red-600",children:t.description}),e.jsx("textarea",{className:"w-full mt-4 rounded-md bg-[#251c32] border-0 py-2",rows:4,name:"description",value:s.description,onChange:D,id:""})]}),h?e.jsx("div",{className:"font-bold flex items-center justify-center text-white bg-primary rounded-lg",children:e.jsx(M,{})}):e.jsx("button",{onClick:A,className:"font-bold text-white bg-primary rounded-lg",children:"UPDATE"}),e.jsx("button",{onClick:()=>m(l),className:"font-bold text-white px-4 py-2 bg-[#3f3b3b] rounded-lg",children:"RESET"})]})})]})})}function te({openModal:l,setOpenModal:p,setQuestions:d,questions:j}){const[n,b]=a.useState({question:"",mark:"",optionA:"",optionB:"",optionC:"",optionD:"",answer:""}),[s,m]=a.useState(!1),[t,r]=a.useState({question:"",mark:"",optionA:"",optionB:"",optionC:"",optionD:"",answer:""}),o=u=>{const{name:x,value:h}=u.currentTarget;b({...n,[x]:h}),n.question&&r({...t,question:i("required",n.question)}),n.answer&&r({...t,answer:i("required",n.answer)}),n.optionA&&r({...t,optionA:i("required",n.optionA)}),n.optionB&&r({...t,optionB:i("required",n.optionB)}),n.optionC&&r({...t,optionC:i("required",n.optionC)}),n.optionD&&r({...t,optionD:i("required",n.optionD)}),n.mark&&r({...t,mark:i("mark",n.mark)}),m(!1)},y=u=>{u.preventDefault(),r({question:i("required",n.question),answer:i("required",n.answer),mark:i("mark",n.mark),optionA:i("required",n.optionA),optionB:i("required",n.optionB),optionC:i("required",n.optionC),optionD:i("required",n.optionD)}),m(!0)};return a.useEffect(()=>{n.question&&n.answer&&n.mark&&n.optionA&&n.optionB&&n.optionC&&n.optionD&&!t.question&&!t.answer&&!t.mark&&!t.optionA&&!t.optionB&&!t.optionC&&!t.optionD&&s&&(d([...j,{...n,id:`${j.length+1+Date.now()}`}]),p(!1),b({question:"",mark:"",optionA:"",optionB:"",optionC:"",optionD:"",answer:""}),m(!1))},[n,t,j,l,p,d,s]),e.jsx(e.Fragment,{children:e.jsxs(w,{show:l,onClose:()=>{p(!1)},children:[e.jsx(w.Header,{className:"ring-1 text-gray-200 ring-[#4d2389] bg-[#110d17] rounded-t-md",children:e.jsx("h1",{className:"text-gray-200",children:"Add new Question"})}),e.jsx(w.Body,{className:"bg-[#110d17] text-gray-200 ring-1 ring-[#4d2389] rounded-b-md",children:e.jsxs("form",{className:"grid gap-2 grid-cols-2 w-full",children:[e.jsxs("div",{className:"flex flex-col col-span-2",children:[e.jsx("label",{htmlFor:"question",className:"text-gray-200",children:"Question"}),t.question&&e.jsx("small",{className:"text-red-600",children:t.question}),e.jsx("input",{type:"text",id:"question",value:n.question,onChange:o,name:"question",placeholder:"Question",className:"bg-my-input rounded border-0 outline-0"})]}),e.jsx("label",{htmlFor:"option",className:"text-gray-200 col-span-2",children:"Options"}),e.jsxs("div",{className:" md:col-span-1 flex flex-col col-span-2",children:[t.optionA&&e.jsx("small",{className:"text-red-600",children:t.optionA}),e.jsx("input",{value:n.optionA,onChange:o,name:"optionA",type:"text",placeholder:"Option A",className:"bg-my-input rounded border-0 outline-0 md:col-span-1 col-span-2"})]}),e.jsxs("div",{className:" md:col-span-1 flex flex-col col-span-2",children:[t.optionB&&e.jsx("small",{className:"text-red-600",children:t.optionB}),e.jsx("input",{value:n.optionB,onChange:o,name:"optionB",type:"text",placeholder:"Option B",className:"bg-my-input rounded border-0 outline-0 md:col-span-1 col-span-2"})]}),e.jsxs("div",{className:" md:col-span-1 flex flex-col col-span-2",children:[t.optionC&&e.jsx("small",{className:"text-red-600",children:t.optionC}),e.jsx("input",{value:n.optionC,onChange:o,name:"optionC",type:"text",placeholder:"Option C",className:"bg-my-input rounded border-0 outline-0 md:col-span-1 col-span-2"})]}),e.jsxs("div",{className:" md:col-span-1 flex flex-col col-span-2",children:[t.optionD&&e.jsx("small",{className:"text-red-600",children:t.optionD}),e.jsx("input",{value:n.optionD,onChange:o,name:"optionD",type:"text",placeholder:"option D",className:"bg-my-input rounded border-0 outline-0 md:col-span-1 col-span-2"})]}),e.jsxs("div",{className:"flex flex-col md:col-span-1 col-span-2 gap-2",children:[e.jsx("label",{htmlFor:"answer",className:"text-gray-200 ",children:"Answer"}),t.answer&&e.jsx("small",{className:"text-red-600",children:t.answer}),e.jsxs("select",{name:"answer",onChange:o,className:"bg-my-input text-gray-200 rounded border-0 outline-0",children:[e.jsx("option",{value:"",children:"-Answer-"}),e.jsx("option",{value:n.optionA,children:"Option A"}),e.jsx("option",{value:n.optionB,children:"Option B"}),e.jsx("option",{value:n.optionC,children:"Option C"}),e.jsx("option",{value:n.optionD,children:"Option D"})]})]}),e.jsxs("div",{className:"flex flex-col md:col-span-1 col-span-2 gap-2",children:[e.jsx("label",{htmlFor:"answer",className:"text-gray-200 md:col-span-1 col-span-2",children:"Score"}),t.mark&&e.jsx("small",{className:"text-red-600",children:t.mark}),e.jsx("input",{name:"mark",value:n.mark,onChange:o,type:"number",placeholder:"Mark",className:"bg-my-input rounded border-0 outline-0 md:col-span-1 col-span-2"})]}),e.jsx("button",{type:"submit",onClick:y,className:"py-2 rounded-lg bg-primary mt-3 col-span-2 text-gray-200",children:"Add Question"})]})})]})})}function ne({openModal:l,setOpenModal:p,questions:d,setQuestions:j,edtiQuestionId:n,setEditQueationId:b}){const[s,m]=a.useState(n?d.find(x=>x.id===n):{answer:"",question:"",mark:"",optionA:"",optionB:"",optionC:"",optionD:""});a.useEffect(()=>{n&&m(d.find(x=>x.id===n))},[n,d]);const[t,r]=a.useState({question:"",mark:"",optionA:"",optionB:"",optionC:"",optionD:"",answer:""}),o=x=>{const{name:h,value:g}=x.currentTarget;m({...s,[h]:g}),s.question&&r({...t,question:i("required",s.question)}),s.answer&&r({...t,answer:i("required",s.answer)}),s.optionA&&r({...t,optionA:i("required",s.optionA)}),s.optionB&&r({...t,optionB:i("required",s.optionB)}),s.optionC&&r({...t,optionC:i("required",s.optionC)}),s.optionD&&r({...t,optionD:i("required",s.optionD)}),s.mark&&r({...t,mark:i("mark",s.mark)})},y=x=>{x.preventDefault(),r({question:i("required",s.question),answer:i("required",s.answer),mark:i("mark",s.mark),optionA:i("required",s.optionA),optionB:i("required",s.optionB),optionC:i("required",s.optionC),optionD:i("required",s.optionD)}),s.question&&s.answer&&s.mark&&s.optionA&&s.optionB&&s.optionC&&s.optionD&&!t.question&&!t.answer&&!t.mark&&!t.optionA&&!t.optionB&&!t.optionC&&!t.optionD&&(j(d.map(h=>(h.id===n&&(h.mark=s.mark,h.question=s.question,h.answer=s.answer,h.optionA=s.optionA,h.optionB=s.optionB,h.optionC=s.optionC,h.optionD=s.optionD),h))),p(!1),b(""))},u=x=>{switch(x){case s.optionA:return"optionA";case s.optionB:return"optionB";case s.optionC:return"optionC";case s.optionD:return"optionD"}};return e.jsx(e.Fragment,{children:e.jsxs(w,{show:l,onClose:()=>{p(!1)},children:[e.jsx(w.Header,{className:"ring-1 text-gray-200 ring-[#4d2389] bg-[#110d17] rounded-t-md",children:e.jsx("h1",{className:"text-gray-200",children:"Add new Question"})}),e.jsx(w.Body,{className:"bg-[#110d17] text-gray-200 ring-1 ring-[#4d2389] rounded-b-md",children:e.jsxs("form",{className:"grid gap-2 grid-cols-2 w-full",children:[e.jsxs("div",{className:"flex flex-col col-span-2",children:[e.jsx("label",{htmlFor:"question",className:"text-gray-200",children:"Question"}),t.question&&e.jsx("small",{className:"text-red-600",children:t.question}),e.jsx("input",{type:"text",id:"question",value:s.question,onChange:o,name:"question",placeholder:"Question",className:"bg-my-input rounded border-0 outline-0"})]}),e.jsx("label",{htmlFor:"option",className:"text-gray-200 col-span-2",children:"Options"}),e.jsxs("div",{className:" md:col-span-1 flex flex-col col-span-2",children:[t.optionA&&e.jsx("small",{className:"text-red-600",children:t.optionA}),e.jsx("input",{value:s.optionA,onChange:o,name:"optionA",type:"text",placeholder:"Option A",className:"bg-my-input rounded border-0 outline-0 md:col-span-1 col-span-2"})]}),e.jsxs("div",{className:" md:col-span-1 flex flex-col col-span-2",children:[t.optionB&&e.jsx("small",{className:"text-red-600",children:t.optionB}),e.jsx("input",{value:s.optionB,onChange:o,name:"optionB",type:"text",placeholder:"Option B",className:"bg-my-input rounded border-0 outline-0 md:col-span-1 col-span-2"})]}),e.jsxs("div",{className:" md:col-span-1 flex flex-col col-span-2",children:[t.optionC&&e.jsx("small",{className:"text-red-600",children:t.optionC}),e.jsx("input",{value:s.optionC,onChange:o,name:"optionC",type:"text",placeholder:"Option C",className:"bg-my-input rounded border-0 outline-0 md:col-span-1 col-span-2"})]}),e.jsxs("div",{className:" md:col-span-1 flex flex-col col-span-2",children:[t.optionD&&e.jsx("small",{className:"text-red-600",children:t.optionD}),e.jsx("input",{value:s.optionD,onChange:o,name:"optionD",type:"text",placeholder:"option D",className:"bg-my-input rounded border-0 outline-0 md:col-span-1 col-span-2"})]}),e.jsxs("div",{className:"flex flex-col md:col-span-1 col-span-2 gap-2",children:[e.jsx("label",{htmlFor:"answer",className:"text-gray-200 ",children:"Answer"}),t.answer&&e.jsx("small",{className:"text-red-600",children:t.answer}),e.jsxs("select",{name:"answer",onChange:o,className:"bg-my-input text-gray-200 rounded border-0 outline-0",children:[e.jsx("option",{value:s.answer,children:u(s.answer)}),u(s.answer)!=="optionA"&&e.jsx("option",{value:s.optionA,children:"Option A"}),u(s.answer)!=="optionB"&&e.jsx("option",{value:s.optionB,children:"Option B"}),u(s.answer)!=="optionC"&&e.jsx("option",{value:s.optionC,children:"Option C"}),u(s.answer)!=="optionD"&&e.jsx("option",{value:s.optionD,children:"Option D"})]})]}),e.jsxs("div",{className:"flex flex-col md:col-span-1 col-span-2 gap-2",children:[e.jsx("label",{htmlFor:"answer",className:"text-gray-200 md:col-span-1 col-span-2",children:"Score"}),t.mark&&e.jsx("small",{className:"text-red-600",children:t.mark}),e.jsx("input",{name:"mark",value:s.mark,onChange:o,type:"number",placeholder:"Mark",className:"bg-my-input rounded border-0 outline-0 md:col-span-1 col-span-2"})]}),e.jsx("button",{type:"submit",onClick:y,className:"py-2 rounded-lg bg-primary mt-3 col-span-2 text-gray-200",children:"Update Question"})]})})]})})}function oe({openModal:l,setOpenModal:p,courseId:d}){const[j,n]=a.useState(!1),[b,s]=a.useState(!1),[m,t]=a.useState(""),[r,o]=a.useState(!1),[y,u]=a.useState(!1),[x,h]=a.useState(!1),[g,D]=a.useState(""),[A,c]=a.useState({minimumMark:null,questions:[]}),[N,C]=a.useState(A.questions);a.useEffect(()=>{C(A.questions),D(A.minimumMark)},[A]),a.useEffect(()=>{(async function(){try{const{data:f}=await B.get(`/assessment/${d}`);f.success&&c(f.assessment)}catch{q.error("Error")}})()},[d,x]);const[k,E]=a.useState({minimumMark:"",Questions:""}),S=f=>{V.fire({title:"Are you sure",text:"are you sure want delet this Question?",icon:"question",showCancelButton:!0,confirmButtonText:"YES DELETE"}).then(F=>{F.isConfirmed&&C(N.filter($=>$.id!==f))})},R=f=>{f.preventDefault(),E({...k,minimumMark:i("percentage",g),Questions:N.length>0?"":"Atleast one question is required"}),u(!0)};return a.useEffect(()=>{E({...k,Questions:N.length>0?"":"Atleast one question is required"}),u(!1)},[N]),a.useEffect(()=>{(async function(){if(d&&y&&!k.Questions&&!k.minimumMark&&g&&N.length>0)try{o(!0);const{data:f}=await B.post("/assessment",{courseId:d,questions:N,minimumMark:g});f.success&&(q.success("Assessment created!"),u(!1),p(!1),h(F=>!F),o(!1))}catch{q.error("Error"),u(!1),o(!1)}})()},[y,d,k,g,N,p]),e.jsxs(e.Fragment,{children:[e.jsx(te,{openModal:j,setOpenModal:n,setQuestions:C,questions:N}),e.jsx(ne,{openModal:b,setOpenModal:s,questions:N,setQuestions:C,edtiQuestionId:m,setEditQueationId:t}),e.jsxs(w,{size:"4xl",show:l,onClose:()=>{p(!1)},children:[e.jsx(w.Header,{className:"ring-1 ring-[#4d2389] bg-[#110d17] rounded-t-md",children:e.jsx("h1",{className:"text-white font-bold",children:"Create Assessment"})}),e.jsxs(w.Body,{className:"bg-[#110d17] flex flex-col items-center text-gray-200 ring-1 ring-[#4d2389] rounded-b-md",children:[e.jsx("div",{className:"w-full flex justify-end",children:e.jsx("button",{onClick:()=>n(!0),className:"text-gray-200 w-2/12 mt-1 rounded h-10 bg-primary",children:"Add Question"})}),e.jsx("h1",{children:"Questions"}),k.Questions&&e.jsx("small",{className:"text-red-500",children:k.Questions}),e.jsx("div",{className:"flex flex-col w-full gap-3 mt-3",children:N.map((f,F)=>e.jsxs("div",{className:"w-full p-2 h-fit ring-1 ring-gray-800 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between w-full",children:[e.jsxs("h1",{className:"font-bold text-xl",children:[F+1,": ",f.question]}),e.jsxs("div",{className:"flex gap-4 me-2",children:[e.jsx("button",{onClick:()=>{t(f.id),s(!0)},className:"text-blue-500",children:"Edit"}),e.jsx("button",{onClick:()=>S(f.id),className:"text-red-500",children:"Delete"})]})]}),e.jsxs("div",{className:"ms-4 flex gap-9",children:[e.jsxs("div",{className:"",children:[e.jsxs("h1",{className:" text-gray-400",children:["A: ",f.optionA]}),e.jsxs("h1",{className:" text-gray-400",children:["B: ",f.optionB]})]}),e.jsxs("div",{className:"",children:[e.jsxs("h1",{className:" text-gray-400",children:["C: ",f.optionC]}),e.jsxs("div",{className:"flex items-end",children:[e.jsxs("h1",{className:" text-gray-400",children:["D: ",f.optionD]}),e.jsxs("small",{className:"ms-5 text-gray-300",children:["score: ",f.mark]})]})]})]})]}))}),e.jsxs("div",{className:"flex w-full mt-4 gap-3 items-end",children:[e.jsxs("div",{className:"flex gap-1 flex-col w-8/12",children:[e.jsx("label",{htmlFor:"minimumMark",children:"Minimum Mark percentage"}),k.minimumMark&&e.jsx("small",{className:"text-red-500",children:k.minimumMark}),e.jsx("input",{type:"number",id:"minimumMark",value:g,onChange:f=>{u(!1),D(f.target.value)},placeholder:"Minimum percetage required for passing the test, eg: 30",className:" bg-my-input outline-none  border-0 rounded-lg text-gray-200"})]}),r?e.jsx("div",{className:"w-4/12 h-10 flex items-center justify-center font-bold mt-3 rounded-md bg-primary",children:e.jsx(M,{})}):e.jsx("button",{onClick:R,className:"w-4/12 h-10 font-bold mt-3 rounded-md bg-primary",children:"SUBMIT"})]})]})]})]})}function ue(){const{id:l}=P(),[p,d]=a.useState(!1),[j,n]=a.useState(!1),[b,s]=a.useState([]),[m,t]=a.useState(!1),[r,o]=a.useState(""),[y,u]=a.useState(!1),[x,h]=a.useState({courseId:"",description:"",duration:"",title:"",video:""});return a.useEffect(()=>{r&&(h(b.find(g=>g._id===r)),t(!0))},[r,b]),a.useEffect(()=>{(async function(){const{data:g}=await B.get(`/lesson/${l}`,{withCredentials:!0});s(g.lessons)})()},[l,j]),e.jsxs(e.Fragment,{children:[e.jsx(se,{initialState:x,setOpenModal:t,openModal:m,setUpdated:n,setEditLessonId:o}),e.jsx(J,{openModal:p,setOpenModal:d,courseId:l,setUpdated:n}),e.jsx(oe,{openModal:y,setOpenModal:u,courseId:l}),e.jsx(G,{role:"TUTOR"}),e.jsxs("div",{className:"flex w-full flex-col pb-28 items-center bg-secondary",children:[e.jsx("h1",{className:"font-bold text-5xl text-white mt-10",children:"Lessons"}),e.jsxs("div",{className:"w-[80%] mt-3 flex justify-between",children:[e.jsx("div",{className:"flex items-center",children:e.jsxs(z,{to:"/tutor/courses",className:"font-bold text-white",children:[e.jsx(K,{className:"mb-1"})," Back"]})}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{onClick:()=>u(!0),className:"bg-primary px-5 py-2 rounded-md text-white font-bold",children:"Assessment"}),e.jsx("button",{onClick:()=>d(!0),className:"bg-primary px-5 py-2 rounded-md text-white font-bold",children:"Add Lessons"})]})]}),e.jsx("div",{className:"w-[100%] flex justify-center",children:e.jsx(ee,{setEditLessonId:o,setUpdated:n,lessons:b})})]}),e.jsx(I,{})]})}export{ue as default};
