import{r,o as h,B as f,j as e,z as t,L as p,K as j,ar as N}from"./index-gFtRcUh9.js";import{N as b}from"./NavBar-oaf12bXh.js";import{d as k}from"./ChevronLeft-ERbaoIke.js";import{d as v}from"./Search-EI_bdwdW.js";import{d as S}from"./utilityFuctions-ouM6L3FC.js";import"./Cancel-f8ok8c79.js";import"./Paper-wJdYsrnY.js";function B({tutorData:u,blockId:o,setBlockId:c,unblockId:i,setunBlockId:l}){const m=s=>{j.fire({title:"Are you sure?",text:"are you sure want to block",icon:"question",showCancelButton:!0,confirmButtonText:"Yes Block!"}).then(n=>{n.isConfirmed&&c(s)})},x=s=>{j.fire({title:"Are you sure?",text:"are you sure want to unblock",icon:"question",showCancelButton:!0,confirmButtonText:"Yes Unlock!"}).then(n=>{n.isConfirmed&&l(s)})};return r.useEffect(()=>{(async function(){if(o)try{(await h.patch(`/admin/user-block/${o}`,{},{withCredentials:!0})).data.success&&(c(""),f.success("User Blocked!"))}catch(s){console.log(s)}})()},[o,c]),r.useEffect(()=>{(async function(){if(i)try{(await h.patch(`/admin/user-unblock/${i}`,{},{withCredentials:!0})).data.success&&(l(""),f.success("User Unblocked!"))}catch(s){console.log(s)}})()},[i,l]),e.jsx("div",{className:"overflow-x-auto mytable w-full md:w-[80%] mt-4",children:e.jsxs(t,{children:[e.jsxs(t.Head,{children:[e.jsx(t.HeadCell,{children:"SL No"}),e.jsx(t.HeadCell,{children:"Name"}),e.jsx(t.HeadCell,{children:"Qualification"}),e.jsx(t.HeadCell,{children:"subjects"}),e.jsx(t.HeadCell,{children:"Documents"}),e.jsx(t.HeadCell,{children:"Status"}),e.jsx(t.HeadCell,{children:e.jsx("span",{className:"sr-only",children:"Block/unblock"})})]}),e.jsx(t.Body,{className:"divide-y",children:u.length>0&&u.map((s,n)=>e.jsx(e.Fragment,{children:e.jsxs(t.Row,{className:"bg-white dark:border-gray-700 dark:bg-gray-800",children:[e.jsx(t.Cell,{className:"whitespace-nowrap font-medium text-gray-900 dark:text-white",children:n+1}),e.jsx(t.Cell,{children:s.name}),e.jsx(t.Cell,{children:s.qualification.map(d=>e.jsxs("span",{children:[d,", "]}))}),e.jsx(t.Cell,{children:s.languages.map(d=>e.jsxs("span",{children:[d,", "]}))}),e.jsx(t.Cell,{children:e.jsx(p,{to:`/admin/tutors/${s.userID}`,children:e.jsx("span",{className:"font-medium cursor-pointer text-cyan-600 hover:underline dark:text-cyan-500",children:"View"})})}),e.jsx(t.Cell,{children:s.user.status?e.jsx("span",{className:"text-green-500 font-bold",children:"active"}):e.jsx("span",{className:"text-red-500 font-bold",children:"Blocked"})}),e.jsx(t.Cell,{children:s.user.status?e.jsx("span",{onClick:()=>m(s.userID),className:"font-medium  cursor-pointer rounded-md bg-red-500 px-5 py-2 text-white",children:"BLOCK"}):e.jsx("span",{onClick:()=>x(s.userID),className:"font-medium  cursor-pointer rounded-md bg-green-500 px-3 py-2 text-white",children:"UNBLOCK"})})]})}))})]})})}function $(){const[u,o]=r.useState([]),[c,i]=r.useState(""),[l,m]=r.useState(""),[x,s]=r.useState(""),[n,d]=r.useState(1),[g,w]=r.useState(0),C=a=>d(a),y=S(a=>{s(a)},500);return r.useEffect(()=>{(async function(){try{const a=await h.get(`/admin/tutors?search=${x}&&page=${n}`,{withCredentials:!0});o(a.data.teachers),w(a.data.count)}catch(a){console.log(a)}})()},[c,l,x,n]),e.jsxs(e.Fragment,{children:[e.jsx(b,{role:"ADMIN"}),e.jsxs("div",{className:"flex flex-col items-center md:p-10 p-4 w-full h-[100vh] bg-secondary",children:[e.jsx("h1",{className:"font-bold text-white text-4xl",children:"MANAGE TUTORS"}),e.jsxs("div",{className:"flex flex-wrap items-center justify-between mt-10 w-full md:w-[80%]",children:[e.jsxs(p,{to:"/",className:"font-bold text-white",children:[e.jsx(k,{className:"mb-1"})," Back"]}),e.jsxs("div",{className:"flex justify-center items-center",children:[e.jsx("input",{onChange:a=>y(a.target.value),className:"h-8 rounded-lg ",type:"text"}),e.jsx(v,{fontSize:"large",className:"text-white"})]})]}),e.jsx(B,{setBlockId:i,blockId:c,tutorData:u,unblockId:l,setunBlockId:m}),e.jsx("div",{className:"flex mypage overflow-x-auto w-[80%] sm:justify-end",children:e.jsx(N,{currentPage:n,totalPages:g,onPageChange:C})})]})]})}export{$ as default};
