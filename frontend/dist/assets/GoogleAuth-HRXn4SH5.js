import{c as S,u as T,r as o,d as j,m as E,x as k,y as b,j as n,n as w}from"./index-4mQrzorV.js";function A({method:l,role:g}){const e=S(),a=T(),[i,r]=o.useState(!1),{isLoading:f,isError:d,user:s,isSuccess:u,errorMessage:m}=j(c=>c.auth),[t,p]=o.useState({accessToken:"",role:""});o.useEffect(()=>{u&&((s==null?void 0:s.role)==="STUDENT"?a("/student"):(s==null?void 0:s.role)==="TUTOR"&&a("/tutor"),e(E()))},[m,d,u,a,e,s]);const h=k({onSuccess:async c=>{const x=c.access_token;p({accessToken:x,role:g}),r(!0)}});return o.useEffect(()=>{i&&t.accessToken&&t.role&&e(b(t)),r(!1)},[t,e,i]),f?n.jsx(w,{}):n.jsxs("button",{onClick:()=>h(),className:"flex gap-2 w-[70%] items-center shadow font-medium text-slate-700 border py-1 justify-center rounded-md",children:[n.jsx("img",{width:"25",height:"25",src:"https://img.icons8.com/color/48/google-logo.png"}),l," with Google"]})}export{A as G};
